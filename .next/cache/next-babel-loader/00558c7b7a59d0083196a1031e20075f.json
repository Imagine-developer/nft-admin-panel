{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { Layout, message } from \"antd\";\nimport { connect, useSelector } from \"react-redux\";\nimport Sidebar from \"../Sidebar\";\nimport HorizontalDefault from \"../Topbar/HorizontalDefault\";\nimport HorizontalDark from \"../Topbar/HorizontalDark\";\nimport InsideHeader from \"../Topbar/InsideHeader\";\nimport AboveHeader from \"../Topbar/AboveHeader\";\nimport BelowHeader from \"../Topbar/BelowHeader\";\nimport Topbar from \"../Topbar\";\nimport { NAV_STYLE_ABOVE_HEADER, NAV_STYLE_BELOW_HEADER, NAV_STYLE_DARK_HORIZONTAL, NAV_STYLE_DEFAULT_HORIZONTAL, NAV_STYLE_DRAWER, NAV_STYLE_FIXED, NAV_STYLE_INSIDE_HEADER_HORIZONTAL, NAV_STYLE_MINI_SIDEBAR, NAV_STYLE_NO_HEADER_EXPANDED_SIDEBAR, NAV_STYLE_NO_HEADER_MINI_SIDEBAR, THEME_TYPE_DARK } from \"../../../constants/ThemeSetting\";\nimport NoHeaderNotification from \"../Topbar/NoHeaderNotification\";\nimport Customizer from \"../Customizer\";\nimport { isUnRestrictedRoute, useAuth } from \"../../../util/use-auth\";\nimport { useRouter } from \"next/router\";\nimport CircularProgress from \"../../components/CircularProgress\";\nvar Content = Layout.Content,\n    Footer = Layout.Footer;\nvar today = new Date();\n\nvar AppLayout = function AppLayout(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useAuth = useAuth(),\n      authUser = _useAuth.authUser,\n      loadingAuthUser = _useAuth.loadingAuthUser,\n      error = _useAuth.error;\n\n  var _useSelector = useSelector(function (_ref2) {\n    var settings = _ref2.settings;\n    return settings;\n  }),\n      themeType = _useSelector.themeType,\n      navStyle = _useSelector.navStyle;\n\n  var router = useRouter();\n\n  var getContainerClass = function getContainerClass(navStyle) {\n    switch (navStyle) {\n      case NAV_STYLE_DARK_HORIZONTAL:\n        return \"gx-container-wrap\";\n\n      case NAV_STYLE_DEFAULT_HORIZONTAL:\n        return \"gx-container-wrap\";\n\n      case NAV_STYLE_INSIDE_HEADER_HORIZONTAL:\n        return \"gx-container-wrap\";\n\n      case NAV_STYLE_BELOW_HEADER:\n        return \"gx-container-wrap\";\n\n      case NAV_STYLE_ABOVE_HEADER:\n        return \"gx-container-wrap\";\n\n      default:\n        return '';\n    }\n  };\n\n  var getNavStyles = function getNavStyles(navStyle) {\n    switch (navStyle) {\n      case NAV_STYLE_DEFAULT_HORIZONTAL:\n        return __jsx(HorizontalDefault, null);\n\n      case NAV_STYLE_DARK_HORIZONTAL:\n        return __jsx(HorizontalDark, null);\n\n      case NAV_STYLE_INSIDE_HEADER_HORIZONTAL:\n        return __jsx(InsideHeader, null);\n\n      case NAV_STYLE_ABOVE_HEADER:\n        return __jsx(AboveHeader, null);\n\n      case NAV_STYLE_BELOW_HEADER:\n        return __jsx(BelowHeader, null);\n\n      case NAV_STYLE_FIXED:\n        return __jsx(Topbar, null);\n\n      case NAV_STYLE_DRAWER:\n        return __jsx(Topbar, null);\n\n      case NAV_STYLE_MINI_SIDEBAR:\n        return __jsx(Topbar, null);\n\n      case NAV_STYLE_NO_HEADER_MINI_SIDEBAR:\n        return __jsx(NoHeaderNotification, null);\n\n      case NAV_STYLE_NO_HEADER_EXPANDED_SIDEBAR:\n        return __jsx(NoHeaderNotification, null);\n\n      default:\n        return null;\n    }\n  };\n\n  useEffect(function () {\n    if (error) {\n      message.error(error.toString()).then(function (r) {\n        return r;\n      });\n    }\n  }, [error]);\n  useEffect(function () {\n    if (!loadingAuthUser) {\n      if (!authUser && !isUnRestrictedRoute(router.pathname)) {\n        router.push('/signin').then(function (r) {\n          return r;\n        });\n      } else if (authUser && isUnRestrictedRoute(router.pathname)) {\n        router.push('/').then(function (r) {\n          return r;\n        });\n      }\n    }\n  }, [authUser, loadingAuthUser, router.pathname]);\n  var bodyClass = \"\";\n\n  if (themeType === THEME_TYPE_DARK) {\n    bodyClass = \"dark-theme\";\n  }\n\n  if (loadingAuthUser) {\n    return __jsx(\"div\", {\n      className: \"gx-loader-view\"\n    }, __jsx(CircularProgress, null));\n  }\n\n  return isUnRestrictedRoute(router.pathname) ? children : __jsx(Layout, {\n    className: \"gx-app-layout \".concat(bodyClass)\n  }, __jsx(Sidebar, null), __jsx(Layout, null, getNavStyles(navStyle), __jsx(Content, {\n    className: \"gx-layout-content \".concat(getContainerClass(navStyle))\n  }, __jsx(\"div\", {\n    className: \"gx-main-content-wrapper\"\n  }, children), __jsx(Footer, null, __jsx(\"div\", {\n    className: \"gx-layout-footer-content\"\n  })))), __jsx(Customizer, null));\n};\n\n_s(AppLayout, \"TtGUgOMGiCUbm/owXL1noxFLaaM=\", false, function () {\n  return [useAuth, useSelector, useRouter];\n});\n\n_c = AppLayout;\nexport default AppLayout;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppLayout\");","map":{"version":3,"sources":["/Users/andreyplatonov/Downloads/Telegram Desktop/wieldy-v-2.4.3/next-js-jwt-stater-kit/app/core/Layout/index.js"],"names":["React","useEffect","Layout","message","connect","useSelector","Sidebar","HorizontalDefault","HorizontalDark","InsideHeader","AboveHeader","BelowHeader","Topbar","NAV_STYLE_ABOVE_HEADER","NAV_STYLE_BELOW_HEADER","NAV_STYLE_DARK_HORIZONTAL","NAV_STYLE_DEFAULT_HORIZONTAL","NAV_STYLE_DRAWER","NAV_STYLE_FIXED","NAV_STYLE_INSIDE_HEADER_HORIZONTAL","NAV_STYLE_MINI_SIDEBAR","NAV_STYLE_NO_HEADER_EXPANDED_SIDEBAR","NAV_STYLE_NO_HEADER_MINI_SIDEBAR","THEME_TYPE_DARK","NoHeaderNotification","Customizer","isUnRestrictedRoute","useAuth","useRouter","CircularProgress","Content","Footer","today","Date","AppLayout","children","authUser","loadingAuthUser","error","settings","themeType","navStyle","router","getContainerClass","getNavStyles","toString","then","r","pathname","push","bodyClass"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport {Layout, message} from \"antd\";\r\nimport {connect, useSelector} from \"react-redux\";\r\n\r\nimport Sidebar from \"../Sidebar\";\r\nimport HorizontalDefault from \"../Topbar/HorizontalDefault\";\r\nimport HorizontalDark from \"../Topbar/HorizontalDark\";\r\nimport InsideHeader from \"../Topbar/InsideHeader\";\r\nimport AboveHeader from \"../Topbar/AboveHeader\";\r\nimport BelowHeader from \"../Topbar/BelowHeader\";\r\nimport Topbar from \"../Topbar\";\r\nimport {\r\n  NAV_STYLE_ABOVE_HEADER,\r\n  NAV_STYLE_BELOW_HEADER,\r\n  NAV_STYLE_DARK_HORIZONTAL,\r\n  NAV_STYLE_DEFAULT_HORIZONTAL,\r\n  NAV_STYLE_DRAWER,\r\n  NAV_STYLE_FIXED,\r\n  NAV_STYLE_INSIDE_HEADER_HORIZONTAL,\r\n  NAV_STYLE_MINI_SIDEBAR,\r\n  NAV_STYLE_NO_HEADER_EXPANDED_SIDEBAR,\r\n  NAV_STYLE_NO_HEADER_MINI_SIDEBAR,\r\n  THEME_TYPE_DARK\r\n} from \"../../../constants/ThemeSetting\";\r\nimport NoHeaderNotification from \"../Topbar/NoHeaderNotification\";\r\nimport Customizer from \"../Customizer\";\r\nimport {isUnRestrictedRoute, useAuth} from \"../../../util/use-auth\";\r\nimport {useRouter} from \"next/router\";\r\nimport CircularProgress from \"../../components/CircularProgress\";\r\n\r\nconst {Content, Footer} = Layout;\r\nconst today = new Date();\r\n\r\nconst AppLayout = ({children}) => {\r\n  const {authUser, loadingAuthUser, error} = useAuth();\r\n  const {themeType, navStyle} = useSelector(({settings}) => settings);\r\n  const router = useRouter();\r\n\r\n  const getContainerClass = (navStyle) => {\r\n    switch (navStyle) {\r\n      case NAV_STYLE_DARK_HORIZONTAL:\r\n        return \"gx-container-wrap\";\r\n      case NAV_STYLE_DEFAULT_HORIZONTAL:\r\n        return \"gx-container-wrap\";\r\n      case NAV_STYLE_INSIDE_HEADER_HORIZONTAL:\r\n        return \"gx-container-wrap\";\r\n      case NAV_STYLE_BELOW_HEADER:\r\n        return \"gx-container-wrap\";\r\n      case NAV_STYLE_ABOVE_HEADER:\r\n        return \"gx-container-wrap\";\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n  const getNavStyles = (navStyle) => {\r\n    switch (navStyle) {\r\n      case NAV_STYLE_DEFAULT_HORIZONTAL :\r\n        return <HorizontalDefault/>;\r\n      case NAV_STYLE_DARK_HORIZONTAL :\r\n        return <HorizontalDark/>;\r\n      case NAV_STYLE_INSIDE_HEADER_HORIZONTAL :\r\n        return <InsideHeader/>;\r\n      case NAV_STYLE_ABOVE_HEADER :\r\n        return <AboveHeader/>;\r\n      case NAV_STYLE_BELOW_HEADER :\r\n        return <BelowHeader/>;\r\n      case NAV_STYLE_FIXED :\r\n        return <Topbar/>;\r\n      case NAV_STYLE_DRAWER :\r\n        return <Topbar/>;\r\n      case NAV_STYLE_MINI_SIDEBAR :\r\n        return <Topbar/>;\r\n      case NAV_STYLE_NO_HEADER_MINI_SIDEBAR :\r\n        return <NoHeaderNotification/>;\r\n      case NAV_STYLE_NO_HEADER_EXPANDED_SIDEBAR :\r\n        return <NoHeaderNotification/>;\r\n      default :\r\n        return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      message.error(error.toString()).then(r => r);\r\n    }\r\n  }, [error]);\r\n\r\n  useEffect(() => {\r\n    if (!loadingAuthUser) {\r\n      if (!authUser && !isUnRestrictedRoute(router.pathname)) {\r\n        router.push('/signin').then(r => r);\r\n      } else if (authUser && isUnRestrictedRoute(router.pathname)) {\r\n        router.push('/').then(r => r);\r\n      }\r\n    }\r\n  }, [authUser, loadingAuthUser, router.pathname])\r\n\r\n  let bodyClass = \"\";\r\n  if (themeType === THEME_TYPE_DARK) {\r\n    bodyClass = \"dark-theme\"\r\n  }\r\n\r\n  if (loadingAuthUser) {\r\n    return <div className=\"gx-loader-view\">\r\n      <CircularProgress/>\r\n    </div>;\r\n  }\r\n\r\n  return isUnRestrictedRoute(router.pathname) ? children : (\r\n    <Layout className={`gx-app-layout ${bodyClass}`}>\r\n      <Sidebar/>\r\n      <Layout>\r\n        {getNavStyles(navStyle)}\r\n        <Content className={`gx-layout-content ${getContainerClass(navStyle)}`}>\r\n          <div className=\"gx-main-content-wrapper\">\r\n            {children}\r\n          </div>\r\n          <Footer>\r\n            <div className=\"gx-layout-footer-content\">\r\n            </div>\r\n          </Footer>\r\n        </Content>\r\n      </Layout>\r\n      <Customizer/>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default AppLayout;\r\n\r\n"]},"metadata":{},"sourceType":"module"}