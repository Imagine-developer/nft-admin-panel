{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from \"react\";\nimport { Button, Checkbox, Drawer, Dropdown, Menu, message } from \"antd\";\nimport CustomScrollbars from \"../../util/CustomScrollbars\";\nimport axios from 'axios';\nimport mails from \"./data/mails\";\nimport folders from \"./data/folders\";\nimport filters from \"./data/filters\";\nimport labels from \"./data/labels\";\nimport options from \"./data/options\";\nimport MailList from \"../../app/components/mail/MailList\";\nimport ComposeMail from \"../../app/components/mail/Compose\";\nimport AppModuleHeader from \"../../app/components/AppModuleHeader\";\nimport MailDetail from \"../../app/components/mail/MailDetail\";\nimport IntlMessages from \"../../util/IntlMessages\";\nimport CircularProgress from \"../../app/components/CircularProgress\";\nimport './index.css';\nimport AddMail from \"../../app/components/mail/addMail\";\n\nclass Mail extends PureComponent {\n  async onDeleteMail(data) {\n    console.log(data);\n    const res = await axios.delete('http://localhost:8000/banner/' + data._id);\n    console.log(res.data);\n  }\n\n  constructor() {\n    super();\n\n    _defineProperty(this, \"MailSideBar\", mail => {\n      return __jsx(\"div\", {\n        className: \"gx-module-side\"\n      }, __jsx(\"div\", {\n        className: \"gx-module-side-header\"\n      }, \"            \", __jsx(Button, {\n        className: \"gx-btn-block ant-btn\",\n        type: \"primary\",\n        \"aria-label\": \"add\",\n        onClick: this.onAddContact\n      }, __jsx(\"i\", {\n        className: \"icon icon-add gx-mr-2\"\n      }), __jsx(\"span\", null, \"Add New Banner\"))));\n    });\n\n    _defineProperty(this, \"menus\", () => __jsx(Menu, {\n      onClick: e => {\n        if (e.key === 'Edit') {\n          this.onEditContact();\n        } else {\n          this.onDeleteContact(this.props.contact);\n        }\n      }\n    }, options.map(option => __jsx(Menu.Item, {\n      key: option\n    }, option))));\n\n    _defineProperty(this, \"onAddContact\", () => {\n      this.setState({\n        addContactState: true\n      });\n    });\n\n    _defineProperty(this, \"onContactClose\", () => {\n      this.setState({\n        addContactState: false\n      });\n    });\n\n    _defineProperty(this, \"onDeleteMail\", () => {\n      const mails = this.state.allMail.map(mail => mail.selected && mail.folder === this.state.selectedFolder ? _objectSpread(_objectSpread({}, mail), {}, {\n        folder: 4,\n        selected: false\n      }) : mail);\n      this.setState({\n        alertMessage: 'Mail Deleted Successfully',\n        showMessage: true,\n        selectedMails: 0,\n        allMail: mails,\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n    });\n\n    _defineProperty(this, \"getNavFolders\", () => {\n      return folders.map((folder, index) => __jsx(\"li\", {\n        key: index,\n        onClick: () => {\n          const filterMails = this.state.allMail.filter(mail => mail.folder === folder.id);\n          this.setState({\n            selectedFolder: folder.id,\n            noContentFoundMessage: 'No Mail found in selected folder',\n            currentMail: null,\n            loader: true,\n            folderMails: filterMails\n          });\n          setTimeout(() => {\n            this.setState({\n              loader: false\n            });\n          }, 1500);\n        }\n      }, __jsx(\"span\", {\n        className: `${this.state.selectedFolder === folder.id ? 'active gx-link' : 'gx-link'}`\n      }, __jsx(\"i\", {\n        className: `icon icon-${folder.icon}`\n      }), __jsx(\"span\", null, folder.title))));\n    });\n\n    _defineProperty(this, \"onFolderMenuItemSelect\", e => {\n      const id = +e.key;\n      const mails = this.state.allMail.map(mail => mail.selected && mail.folder === this.state.selectedFolder ? _objectSpread(_objectSpread({}, mail), {}, {\n        folder: id,\n        selected: false\n      }) : mail);\n      this.setState({\n        selectedMails: 0,\n        allMail: mails,\n        noContentFoundMessage: 'No Mail found in selected folder',\n        alertMessage: 'Mail has been moved successfully',\n        showMessage: true,\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n    });\n\n    _defineProperty(this, \"onLabelMenuItemSelect\", e => {\n      const id = +e.key;\n      const mails = this.state.allMail.map(mail => {\n        if (mail.selected && mail.folder === this.state.selectedFolder) {\n          if (mail.labels.includes(id)) {\n            return _objectSpread(_objectSpread({}, mail), {}, {\n              labels: this.removeLabel(mail, id)\n            });\n          } else {\n            return _objectSpread(_objectSpread({}, mail), {}, {\n              labels: this.addLabel(mail, id)\n            });\n          }\n        } else {\n          return mail;\n        }\n      });\n      this.setState({\n        noContentFoundMessage: 'No Mail found in selected label',\n        alertMessage: 'Label Updated Successfully',\n        showMessage: true,\n        allMail: mails,\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n    });\n\n    _defineProperty(this, \"handleRequestClose\", () => {\n      this.setState({\n        composeMail: false,\n        showMessage: false\n      });\n    });\n\n    _defineProperty(this, \"getNavFilters\", () => {\n      return filters.map((filter, index) => __jsx(\"li\", {\n        key: index,\n        onClick: () => {\n          const filterMails = this.state.allMail.filter(mail => {\n            if (filter.id === 0 && mail.starred && mail.folder === this.state.selectedFolder) {\n              return mail;\n            } else if (filter.id === 1 && mail.important && mail.folder === this.state.selectedFolder) {\n              return mail;\n            }\n\n            return null;\n          });\n          this.setState({\n            noContentFoundMessage: 'No Mail found in selected filter',\n            loader: true,\n            folderMails: filterMails\n          });\n          setTimeout(() => {\n            this.setState({\n              loader: false\n            });\n          }, 1500);\n        }\n      }, __jsx(\"span\", {\n        className: \"gx-link\"\n      }, __jsx(\"i\", {\n        className: `icon icon-${filter.icon}`\n      }), __jsx(\"span\", null, filter.title))));\n    });\n\n    _defineProperty(this, \"onOptionMenuItemSelect\", e => {\n      switch (e.key) {\n        case 'All':\n          this.handleRequestClose();\n          this.getAllMail();\n          break;\n\n        case 'None':\n          this.handleRequestClose();\n          this.getUnselectedAllMail();\n          break;\n\n        case 'Read':\n          this.handleRequestClose();\n          this.getReadMail();\n          break;\n\n        case 'Unread':\n          this.handleRequestClose();\n          this.getUnreadMail();\n          break;\n\n        case 'Starred':\n          this.handleRequestClose();\n          this.getStarredMail();\n          break;\n\n        case 'Unstarred':\n          this.handleRequestClose();\n          this.getUnStarredMail();\n          break;\n\n        case 'Important':\n          this.handleRequestClose();\n          this.getImportantMail();\n          break;\n\n        case 'Unimportant':\n          this.handleRequestClose();\n          this.getUnimportantMail();\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onDeleteContact\", async data => {\n      const res = await axios.delete('http://localhost:8000/banner/' + data._id);\n      console.log(res.data);\n      this.render();\n    });\n\n    _defineProperty(this, \"getAllMail\", () => {\n      let mails = this.state.allMail.map(mail => mail.folder === this.state.selectedFolder ? _objectSpread(_objectSpread({}, mail), {}, {\n        selected: true\n      }) : mail);\n      this.setState({\n        selectedMails: mails.length,\n        allMail: mails,\n        optionName: 'All',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n    });\n\n    _defineProperty(this, \"getUnselectedAllMail\", () => {\n      let mails = this.state.allMail.map(mail => mail.folder === this.state.selectedFolder ? _objectSpread(_objectSpread({}, mail), {}, {\n        selected: false\n      }) : mail);\n      this.setState({\n        selectedMails: 0,\n        allMail: mails,\n        optionName: 'None',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n    });\n\n    _defineProperty(this, \"getReadMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (mail.read) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'Read',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getUnreadMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (!mail.read) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'Unread',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getStarredMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (mail.starred) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'Starred',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getUnStarredMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (!mail.starred) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'UnStarred',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getImportantMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (mail.important) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'Important',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getUnimportantMail\", () => {\n      let selectedMail = 0;\n      let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\n      mails = mails.map(mail => {\n        if (!mail.important) {\n          selectedMail++;\n          return _objectSpread(_objectSpread({}, mail), {}, {\n            selected: true\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, mail), {}, {\n          selected: false\n        });\n      });\n      this.setState({\n        selectedMails: selectedMail,\n        optionName: 'Unimportant',\n        noContentFoundMessage: 'No Mail found in selected Label',\n        folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\n      });\n      return mails;\n    });\n\n    _defineProperty(this, \"getNavLabels\", () => {\n      return labels.map((label, index) => __jsx(\"li\", {\n        key: index,\n        onClick: () => {\n          const filterMails = this.state.allMail.filter(mail => mail.labels.includes(label.id) && mail.folder === this.state.selectedFolder);\n          this.setState({\n            loader: true,\n            noContentFoundMessage: 'No Mail found in selected label',\n            folderMails: filterMails\n          });\n          setTimeout(() => {\n            this.setState({\n              loader: false\n            });\n          }, 1500);\n        }\n      }, __jsx(\"span\", {\n        className: \"gx-link\"\n      }, __jsx(\"i\", {\n        className: `icon icon-tag gx-text-${label.color}`\n      }), __jsx(\"span\", null, label.title))));\n    });\n\n    _defineProperty(this, \"searchMail\", searchText => {\n      if (searchText === '') {\n        this.setState({\n          folderMails: this.state.allMail.filter(mail => !mail.deleted)\n        });\n      } else {\n        const searchMails = this.state.allMail.filter(mail => mail.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\n        this.setState({\n          folderMails: searchMails\n        });\n      }\n    });\n\n    _defineProperty(this, \"displayMail\", (currentMail, folderMails, noContentFoundMessage) => {\n      return __jsx(\"div\", {\n        className: \"gx-module-box-column\"\n      }, currentMail === null ? folderMails.length === 0 ? __jsx(\"div\", {\n        className: \"gx-no-content-found gx-text-light gx-d-flex gx-align-items-center gx-justify-content-center\"\n      }, noContentFoundMessage) : __jsx(MailList, {\n        mails: folderMails,\n        onStartSelect: this.onStartSelect.bind(this),\n        onMailSelect: this.onMailSelect.bind(this),\n        onMailChecked: this.onMailChecked.bind(this),\n        onDeleteMail: this.onDeleteMail.bind(this)\n      }) : __jsx(MailDetail, {\n        mail: currentMail,\n        onStartSelect: this.onStartSelect.bind(this),\n        onImportantSelect: this.onImportantSelect.bind(this)\n      }));\n    });\n\n    _defineProperty(this, \"getMailActions\", () => {\n      return __jsx(\"div\", {\n        className: \"gx-flex-row gx-align-items-center\"\n      }, __jsx(Dropdown, {\n        overlay: this.folderMenu(),\n        placement: \"bottomRight\",\n        trigger: ['click']\n      }, __jsx(\"i\", {\n        className: \"icon icon-folder gx-icon-btn\"\n      })), __jsx(Dropdown, {\n        overlay: this.labelMenu(),\n        placement: \"bottomRight\",\n        trigger: ['click']\n      }, __jsx(\"i\", {\n        className: \"icon icon-tag gx-icon-btn\"\n      })), __jsx(\"span\", {\n        onClick: this.onDeleteMail.bind(this)\n      }, __jsx(\"i\", {\n        className: \"icon icon-trash gx-icon-btn\"\n      })));\n    });\n\n    _defineProperty(this, \"optionMenu\", () => __jsx(Menu, {\n      id: \"option-menu\",\n      onClick: this.onOptionMenuItemSelect.bind(this)\n    }, options.map(option => __jsx(Menu.Item, {\n      key: option.title\n    }, option.title))));\n\n    _defineProperty(this, \"folderMenu\", () => __jsx(Menu, {\n      id: \"folder-menu\",\n      onClick: this.onFolderMenuItemSelect.bind(this)\n    }, folders.map(folder => __jsx(Menu.Item, {\n      key: folder.id\n    }, folder.title))));\n\n    _defineProperty(this, \"labelMenu\", () => __jsx(Menu, {\n      id: \"label-menu\",\n      onClick: this.onLabelMenuItemSelect.bind(this)\n    }, labels.map(label => __jsx(Menu.Item, {\n      key: label.id\n    }, label.title))));\n\n    _defineProperty(this, \"onSaveContact\", async data => {\n      const formData = new FormData();\n      formData.append('file', data.imgUrl);\n      console.log(formData, data.imgUrl);\n      const res = await axios.post('http://localhost:8000/banner/upload', formData);\n      const result = await axios.post('http://localhost:8000/banner', {\n        title: data.title,\n        text: data.text,\n        url: data.url,\n        imgUrl: res.data.img\n      });\n      console.log(result.data);\n      /*     const result = await axios.post('http://localhost:8000/banner', data)\r\n          this.setState({onAddContact: false, folderMails: [...this.folderMails, result]}) */\n    });\n\n    this.state = {\n      searchMail: '',\n      addContactState: false,\n      noContentFoundMessage: 'No Mail found in selected folder',\n      alertMessage: '',\n      showMessage: false,\n      drawerState: false,\n      optionName: 'None',\n      anchorEl: null,\n      allMail: mails,\n      loader: true,\n      currentMail: null,\n      user: {\n        name: 'Robert Johnson',\n        email: 'robert@example.com',\n        avatar: 'https://via.placeholder.com/150x150'\n      },\n      selectedMails: 0,\n      selectedFolder: 0,\n      composeMail: false,\n      folderMails: mails.filter(mail => mail.folder === 0)\n    };\n  }\n\n  async componentDidMount() {\n    const result = await axios.get('http://localhost:8000/banner');\n    console.log(result.data);\n    this.setState({\n      loader: false,\n      folderMails: result.data,\n      allMail: result.data\n    });\n  }\n\n  onMailChecked(data) {\n    data.selected = !data.selected;\n    let selectedMail = 0;\n    const mails = this.state.folderMails.map(mail => {\n      if (mail.selected) {\n        selectedMail++;\n      }\n\n      if (mail.id === data.id) {\n        if (mail.selected) {\n          selectedMail++;\n        }\n\n        return data;\n      } else {\n        return mail;\n      }\n    });\n    this.setState({\n      selectedMails: selectedMail,\n      folderMails: mails\n    });\n  }\n\n  onAllMailSelect() {\n    const selectAll = this.state.selectedMails <= this.state.folderMails.length;\n\n    if (selectAll) {\n      this.getAllMail();\n    } else {\n      this.getUnselectedAllMail();\n    }\n  }\n\n  removeLabel(mail, label) {\n    mail.labels.splice(mail.labels.indexOf(label), 1);\n\n    if (this.state.currentMail !== null && mail.id === this.state.currentMail.id) {\n      this.setState({\n        currentMail: _objectSpread(_objectSpread({}, mail), {}, {\n          labels: mail.labels\n        })\n      });\n    }\n\n    return mail.labels;\n  }\n\n  onStartSelect(data) {\n    data.starred = !data.starred;\n    this.setState({\n      alertMessage: data.starred ? 'Mail Mark as Star' : 'Mail Remove as Star',\n      showMessage: true,\n      folderMails: this.state.folderMails.map(mail => mail.id === data.id ? data : mail)\n    });\n  }\n\n  onImportantSelect(data) {\n    data.important = !data.important;\n    this.setState({\n      alertMessage: data.important ? 'Mail Mark as Important' : 'Mail Remove as Important',\n      showMessage: true,\n      folderMails: this.state.folderMails.map(mail => mail.id === data.id ? data : mail)\n    });\n  }\n\n  onMailSend(data) {\n    this.setState({\n      alertMessage: 'Mail Sent Successfully',\n      showMessage: true,\n      folderMails: this.state.allMail.concat(data),\n      allMail: this.state.allMail.concat(data)\n    });\n  }\n\n  onMailSelect(mail) {\n    this.setState({\n      loader: true,\n      currentMail: mail\n    });\n    setTimeout(() => {\n      this.setState({\n        loader: false\n      });\n    }, 1500);\n  }\n\n  addLabel(mail, label) {\n    if (this.state.currentMail !== null && mail.id === this.state.currentMail.id) {\n      this.setState({\n        currentMail: _objectSpread(_objectSpread({}, mail), {}, {\n          labels: mail.labels.concat(label)\n        })\n      });\n    }\n\n    return mail.labels.concat(label);\n  }\n\n  updateSearch(evt) {\n    this.setState({\n      searchMail: evt.target.value\n    });\n    this.searchMail(evt.target.value);\n  }\n\n  onToggleDrawer() {\n    this.setState({\n      drawerState: !this.state.drawerState\n    });\n  }\n\n  render() {\n    const {\n      selectedMails,\n      loader,\n      currentMail,\n      drawerState,\n      folderMails,\n      composeMail,\n      user,\n      alertMessage,\n      showMessage,\n      noContentFoundMessage,\n      addContactState\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"gx-main-content\"\n    }, __jsx(\"div\", {\n      className: \"gx-app-module\"\n    }, __jsx(\"div\", {\n      className: \"gx-d-block gx-d-lg-none\"\n    }, __jsx(Drawer, {\n      placement: \"left\",\n      closable: false,\n      visible: drawerState,\n      onClose: this.onToggleDrawer.bind(this)\n    })), __jsx(\"div\", {\n      className: \"gx-module-sidenav gx-d-none gx-d-lg-flex\"\n    }, this.MailSideBar(currentMail)), __jsx(\"div\", {\n      className: \"gx-module-box\"\n    }, __jsx(\"div\", {\n      className: \"gx-module-box-header\"\n    }, __jsx(\"span\", {\n      className: \"gx-drawer-btn gx-d-flex gx-d-lg-none\"\n    }, __jsx(\"i\", {\n      className: \"icon icon-menu gx-icon-btn\",\n      \"aria-label\": \"Menu\",\n      onClick: this.onToggleDrawer.bind(this)\n    })), __jsx(AppModuleHeader, {\n      placeholder: \"Search mails\",\n      user: this.state.user,\n      onChange: this.updateSearch.bind(this),\n      value: this.state.searchMail\n    })), __jsx(\"div\", {\n      className: \"gx-module-box-content\"\n    }, loader ? __jsx(\"div\", {\n      className: \"gx-loader-view\"\n    }, __jsx(CircularProgress, null)) : this.displayMail(currentMail, folderMails, noContentFoundMessage), __jsx(ComposeMail, {\n      open: composeMail,\n      user: user,\n      onClose: this.handleRequestClose.bind(this),\n      onMailSend: this.onMailSend.bind(this)\n    })))), __jsx(Dropdown, {\n      overlay: this.menus(),\n      placement: \"bottomRight\",\n      trigger: ['click']\n    }, __jsx(\"i\", {\n      className: \"gx-icon-btn icon icon-ellipse-v\"\n    })), __jsx(AddMail, {\n      open: addContactState,\n      onSaveContact: this.onSaveContact,\n      onContactClose: this.onContactClose,\n      onDeleteContact: this.onDeleteContact\n    }), showMessage && message.info(__jsx(\"span\", {\n      id: \"message-id\"\n    }, alertMessage), 3, this.handleRequestClose));\n  }\n\n}\n\nexport default Mail;","map":{"version":3,"sources":["/Users/andreyplatonov/Downloads/Telegram Desktop/wieldy-v-2.4.3/next-js-jwt-stater-kit/routes/Banner/index.js"],"names":["React","PureComponent","Button","Checkbox","Drawer","Dropdown","Menu","message","CustomScrollbars","axios","mails","folders","filters","labels","options","MailList","ComposeMail","AppModuleHeader","MailDetail","IntlMessages","CircularProgress","AddMail","Mail","onDeleteMail","data","console","log","res","delete","_id","constructor","mail","onAddContact","e","key","onEditContact","onDeleteContact","props","contact","map","option","setState","addContactState","state","allMail","selected","folder","selectedFolder","alertMessage","showMessage","selectedMails","folderMails","filter","index","filterMails","id","noContentFoundMessage","currentMail","loader","setTimeout","icon","title","includes","removeLabel","addLabel","composeMail","starred","important","handleRequestClose","getAllMail","getUnselectedAllMail","getReadMail","getUnreadMail","getStarredMail","getUnStarredMail","getImportantMail","getUnimportantMail","render","length","optionName","selectedMail","read","label","color","searchText","deleted","searchMails","toLowerCase","indexOf","onStartSelect","bind","onMailSelect","onMailChecked","onImportantSelect","folderMenu","labelMenu","onOptionMenuItemSelect","onFolderMenuItemSelect","onLabelMenuItemSelect","formData","FormData","append","imgUrl","post","result","text","url","img","searchMail","drawerState","anchorEl","user","name","email","avatar","componentDidMount","get","onAllMailSelect","selectAll","splice","onMailSend","concat","updateSearch","evt","target","value","onToggleDrawer","MailSideBar","displayMail","menus","onSaveContact","onContactClose","info"],"mappings":"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","sourcesContent":["import React, {PureComponent} from \"react\";\r\nimport {Button, Checkbox, Drawer, Dropdown, Menu, message} from \"antd\";\r\nimport CustomScrollbars from \"../../util/CustomScrollbars\";\r\nimport axios from 'axios'\r\n\r\nimport mails from \"./data/mails\";\r\nimport folders from \"./data/folders\";\r\nimport filters from \"./data/filters\";\r\nimport labels from \"./data/labels\";\r\nimport options from \"./data/options\";\r\nimport MailList from \"../../app/components/mail/MailList\";\r\nimport ComposeMail from \"../../app/components/mail/Compose\";\r\nimport AppModuleHeader from \"../../app/components/AppModuleHeader\";\r\nimport MailDetail from \"../../app/components/mail/MailDetail\";\r\nimport IntlMessages from \"../../util/IntlMessages\";\r\nimport CircularProgress from \"../../app/components/CircularProgress\";\r\n\r\nimport './index.css';\r\nimport AddMail from \"../../app/components/mail/addMail\";\r\n\r\n\r\nclass Mail extends PureComponent {\r\n  MailSideBar = (mail) => {\r\n    return <div className=\"gx-module-side\">\r\n      <div className=\"gx-module-side-header\">            <Button className=\"gx-btn-block ant-btn\" type=\"primary\" aria-label=\"add\"\r\n                    onClick={this.onAddContact}>\r\n              <i className=\"icon icon-add gx-mr-2\"/>\r\n              <span>Add New Banner</span>\r\n            </Button>\r\n      </div>\r\n    </div>\r\n\r\n  };\r\n  menus = () => (<Menu onClick={(e) => {\r\n    if (e.key === 'Edit') {\r\n      this.onEditContact()\r\n    } else {\r\n      this.onDeleteContact(this.props.contact)\r\n    }\r\n  }\r\n  }>\r\n    {options.map(option =>\r\n      <Menu.Item key={option}>\r\n        {option}\r\n      </Menu.Item>,\r\n    )}\r\n  </Menu>);\r\n  onAddContact = () => {\r\n    this.setState({addContactState: true});\r\n  };\r\n  onContactClose = () => {\r\n    this.setState({addContactState: false});\r\n  };\r\n\r\n  onDeleteMail = () => {\r\n    const mails = this.state.allMail.map(mail =>\r\n      mail.selected && (mail.folder === this.state.selectedFolder) ?\r\n        {...mail, folder: 4, selected: false,} : mail\r\n    );\r\n    this.setState({\r\n      alertMessage: 'Mail Deleted Successfully',\r\n      showMessage: true,\r\n      selectedMails: 0,\r\n      allMail: mails,\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n  };\r\n\r\n  getNavFolders = () => {\r\n    return folders.map((folder, index) =>\r\n      <li key={index} onClick={() => {\r\n        const filterMails = this.state.allMail.filter(mail => mail.folder === folder.id);\r\n        this.setState({\r\n          selectedFolder: folder.id,\r\n          noContentFoundMessage: 'No Mail found in selected folder',\r\n          currentMail: null,\r\n          loader: true,\r\n          folderMails: filterMails\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({loader: false});\r\n        }, 1500);\r\n      }\r\n      }>\r\n        <span className={`${this.state.selectedFolder === folder.id ? 'active gx-link' : 'gx-link'}`}>\r\n          <i className={`icon icon-${folder.icon}`}/>\r\n          <span>{folder.title}</span>\r\n        </span>\r\n      </li>\r\n    )\r\n  };\r\n\r\n\r\n  onFolderMenuItemSelect = (e) => {\r\n    const id = +e.key;\r\n    const mails = this.state.allMail.map(mail =>\r\n      mail.selected && (mail.folder === this.state.selectedFolder) ?\r\n        {...mail, folder: id, selected: false,} : mail\r\n    );\r\n    this.setState({\r\n      selectedMails: 0,\r\n      allMail: mails,\r\n      noContentFoundMessage: 'No Mail found in selected folder',\r\n      alertMessage: 'Mail has been moved successfully',\r\n      showMessage: true,\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n  };\r\n\r\n  onLabelMenuItemSelect = (e) => {\r\n    const id = +e.key;\r\n    const mails = this.state.allMail.map(mail => {\r\n        if (mail.selected && (mail.folder === this.state.selectedFolder)) {\r\n          if (mail.labels.includes(id)) {\r\n            return {...mail, labels: this.removeLabel(mail, id)};\r\n          } else {\r\n            return {...mail, labels: this.addLabel(mail, id)};\r\n          }\r\n        } else {\r\n          return mail;\r\n        }\r\n      }\r\n    );\r\n    this.setState({\r\n      noContentFoundMessage: 'No Mail found in selected label',\r\n      alertMessage: 'Label Updated Successfully',\r\n      showMessage: true,\r\n      allMail: mails,\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n  };\r\n\r\n  handleRequestClose = () => {\r\n    this.setState({\r\n      composeMail: false,\r\n      showMessage: false,\r\n    });\r\n  };\r\n  getNavFilters = () => {\r\n    return filters.map((filter, index) =>\r\n      <li key={index} onClick={() => {\r\n        const filterMails = this.state.allMail.filter(mail => {\r\n          if (filter.id === 0 && mail.starred && mail.folder === this.state.selectedFolder) {\r\n            return mail\r\n          } else if (filter.id === 1 && mail.important && mail.folder === this.state.selectedFolder) {\r\n            return mail\r\n          }\r\n          return null;\r\n        });\r\n        this.setState({\r\n          noContentFoundMessage: 'No Mail found in selected filter',\r\n          loader: true,\r\n          folderMails: filterMails\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({loader: false});\r\n        }, 1500);\r\n      }\r\n      }>\r\n        <span className=\"gx-link\">\r\n          <i className={`icon icon-${filter.icon}`}/>\r\n          <span>{filter.title}</span>\r\n        </span>\r\n      </li>\r\n    )\r\n  };\r\n  onOptionMenuItemSelect = (e) => {\r\n    switch (e.key) {\r\n      case 'All':\r\n        this.handleRequestClose();\r\n        this.getAllMail();\r\n        break;\r\n      case 'None':\r\n        this.handleRequestClose();\r\n        this.getUnselectedAllMail();\r\n        break;\r\n      case 'Read':\r\n        this.handleRequestClose();\r\n        this.getReadMail();\r\n        break;\r\n      case 'Unread':\r\n        this.handleRequestClose();\r\n        this.getUnreadMail();\r\n        break;\r\n      case 'Starred':\r\n        this.handleRequestClose();\r\n        this.getStarredMail();\r\n        break;\r\n      case 'Unstarred':\r\n        this.handleRequestClose();\r\n        this.getUnStarredMail();\r\n        break;\r\n      case 'Important':\r\n        this.handleRequestClose();\r\n        this.getImportantMail();\r\n        break;\r\n      case 'Unimportant':\r\n        this.handleRequestClose();\r\n        this.getUnimportantMail();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  onDeleteContact = async (data) => {\r\n    const res = await axios.delete('http://localhost:8000/banner/' + data._id)\r\n    console.log(res.data)\r\n    this.render()\r\n\r\n  };\r\n  getAllMail = () => {\r\n    let mails = this.state.allMail.map((mail) => mail.folder === this.state.selectedFolder ? {\r\n      ...mail,\r\n      selected: true\r\n    } : mail);\r\n    this.setState({\r\n      selectedMails: mails.length,\r\n      allMail: mails,\r\n      optionName: 'All',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n  };\r\n  getUnselectedAllMail = () => {\r\n    let mails = this.state.allMail.map((mail) => mail.folder === this.state.selectedFolder ? {\r\n      ...mail,\r\n      selected: false\r\n    } : mail);\r\n    this.setState({\r\n      selectedMails: 0,\r\n      allMail: mails,\r\n      optionName: 'None',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n  };\r\n  getReadMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (mail.read) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'Read',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getUnreadMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (!mail.read) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'Unread',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getStarredMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (mail.starred) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'Starred',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getUnStarredMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (!mail.starred) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'UnStarred',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getImportantMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (mail.important) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'Important',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getUnimportantMail = () => {\r\n    let selectedMail = 0;\r\n    let mails = this.state.allMail.filter(mail => mail.folder === this.state.selectedFolder && mail.folder === this.state.selectedFolder);\r\n    mails = mails.map((mail) => {\r\n      if (!mail.important) {\r\n        selectedMail++;\r\n        return {...mail, selected: true};\r\n      }\r\n      return {...mail, selected: false}\r\n    });\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      optionName: 'Unimportant',\r\n      noContentFoundMessage: 'No Mail found in selected Label',\r\n      folderMails: mails.filter(mail => mail.folder === this.state.selectedFolder)\r\n    });\r\n    return mails;\r\n  };\r\n  getNavLabels = () => {\r\n    return labels.map((label, index) =>\r\n      <li key={index} onClick={() => {\r\n        const filterMails = this.state.allMail.filter(mail => mail.labels.includes(label.id) && mail.folder === this.state.selectedFolder);\r\n        this.setState({\r\n          loader: true,\r\n          noContentFoundMessage: 'No Mail found in selected label',\r\n          folderMails: filterMails\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({loader: false});\r\n        }, 1500);\r\n      }\r\n      }>\r\n        <span className=\"gx-link\">\r\n          <i className={`icon icon-tag gx-text-${label.color}`}/>\r\n          <span>{label.title}</span>\r\n        </span>\r\n      </li>\r\n    )\r\n  };\r\n  searchMail = (searchText) => {\r\n    if (searchText === '') {\r\n      this.setState({folderMails: this.state.allMail.filter((mail) => !mail.deleted)});\r\n    } else {\r\n      const searchMails = this.state.allMail.filter((mail) =>\r\n        mail.title.toLowerCase().indexOf(searchText.toLowerCase()) > -1);\r\n      this.setState({\r\n        folderMails: searchMails\r\n      });\r\n    }\r\n  };\r\n  async onDeleteMail(data){\r\n    console.log(data)\r\n    const res = await axios.delete('http://localhost:8000/banner/' + data._id)\r\n    console.log(res.data)\r\n\r\n  }\r\n  displayMail = (currentMail, folderMails, noContentFoundMessage) => {\r\n    return (<div className=\"gx-module-box-column\">\r\n      {currentMail === null ?\r\n        folderMails.length === 0 ?\r\n          <div className=\"gx-no-content-found gx-text-light gx-d-flex gx-align-items-center gx-justify-content-center\">\r\n            {noContentFoundMessage}\r\n          </div>\r\n          :\r\n          <MailList mails={folderMails} onStartSelect={this.onStartSelect.bind(this)}\r\n                    onMailSelect={this.onMailSelect.bind(this)}\r\n                    onMailChecked={this.onMailChecked.bind(this)}\r\n                    onDeleteMail={this.onDeleteMail.bind(this)}/>\r\n        :\r\n        <MailDetail mail={currentMail} onStartSelect={this.onStartSelect.bind(this)}\r\n                    onImportantSelect={this.onImportantSelect.bind(this)}/>}\r\n    </div>)\r\n  };\r\n  getMailActions = () => {\r\n    return <div className=\"gx-flex-row gx-align-items-center\">\r\n\r\n      <Dropdown overlay={this.folderMenu()} placement=\"bottomRight\" trigger={['click']}>\r\n        <i className=\"icon icon-folder gx-icon-btn\"/>\r\n      </Dropdown>\r\n\r\n      <Dropdown overlay={this.labelMenu()} placement=\"bottomRight\" trigger={['click']}>\r\n        <i className=\"icon icon-tag gx-icon-btn\"/>\r\n      </Dropdown>\r\n\r\n      <span onClick={this.onDeleteMail.bind(this)}>\r\n        <i className=\"icon icon-trash gx-icon-btn\"/></span>\r\n\r\n    </div>\r\n  };\r\n\r\n  optionMenu = () => (\r\n    <Menu id=\"option-menu\"\r\n          onClick={this.onOptionMenuItemSelect.bind(this)}>\r\n      {options.map(option =>\r\n        <Menu.Item key={option.title}>\r\n          {option.title}\r\n        </Menu.Item>,\r\n      )}\r\n    </Menu>);\r\n\r\n  folderMenu = () => (\r\n    <Menu id=\"folder-menu\"\r\n          onClick={this.onFolderMenuItemSelect.bind(this)}>\r\n      {folders.map(folder =>\r\n        <Menu.Item key={folder.id}>\r\n          {folder.title}\r\n        </Menu.Item>,\r\n      )}\r\n    </Menu>);\r\n\r\n  labelMenu = () => (\r\n    <Menu id=\"label-menu\"\r\n          onClick={this.onLabelMenuItemSelect.bind(this)}>\r\n      {labels.map(label =>\r\n        <Menu.Item key={label.id}>\r\n          {label.title}\r\n        </Menu.Item>,\r\n      )}\r\n    </Menu>\r\n  );\r\n\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      searchMail: '',\r\n      addContactState: false,\r\n      noContentFoundMessage: 'No Mail found in selected folder',\r\n      alertMessage: '',\r\n      showMessage: false,\r\n      drawerState: false,\r\n      optionName: 'None',\r\n      anchorEl: null,\r\n      allMail: mails,\r\n      loader: true,\r\n      currentMail: null,\r\n      user: {\r\n        name: 'Robert Johnson',\r\n        email: 'robert@example.com',\r\n        avatar: 'https://via.placeholder.com/150x150'\r\n      },\r\n      selectedMails: 0,\r\n      selectedFolder: 0,\r\n      composeMail: false,\r\n      folderMails: mails.filter(mail => mail.folder === 0)\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const result = await axios.get('http://localhost:8000/banner')\r\n    console.log(result.data)\r\n\r\n    this.setState({loader: false, folderMails: result.data, allMail: result.data})\r\n  }\r\n\r\n\r\n  onMailChecked(data) {\r\n    data.selected = !data.selected;\r\n    let selectedMail = 0;\r\n    const mails = this.state.folderMails.map(mail => {\r\n        if (mail.selected) {\r\n          selectedMail++;\r\n        }\r\n        if (mail.id === data.id) {\r\n          if (mail.selected) {\r\n            selectedMail++;\r\n          }\r\n          return data;\r\n        } else {\r\n          return mail;\r\n        }\r\n      }\r\n    );\r\n    this.setState({\r\n      selectedMails: selectedMail,\r\n      folderMails: mails\r\n    });\r\n  }\r\n\r\n  onAllMailSelect() {\r\n    const selectAll = this.state.selectedMails <= this.state.folderMails.length;\r\n    if (selectAll) {\r\n      this.getAllMail();\r\n    } else {\r\n      this.getUnselectedAllMail();\r\n    }\r\n  }\r\n\r\n  removeLabel(mail, label) {\r\n    mail.labels.splice(mail.labels.indexOf(label), 1);\r\n    if (this.state.currentMail !== null && mail.id === this.state.currentMail.id) {\r\n      this.setState({\r\n        currentMail: {...mail, labels: mail.labels}\r\n      })\r\n    }\r\n    return mail.labels;\r\n  }\r\n\r\n  onStartSelect(data) {\r\n    data.starred = !data.starred;\r\n    this.setState({\r\n      alertMessage: data.starred ? 'Mail Mark as Star' : 'Mail Remove as Star',\r\n      showMessage: true,\r\n      folderMails: this.state.folderMails.map(mail =>\r\n        mail.id === data.id ?\r\n          data : mail\r\n      )\r\n    });\r\n  }\r\n\r\n  onImportantSelect(data) {\r\n    data.important = !data.important;\r\n    this.setState({\r\n      alertMessage: data.important ? 'Mail Mark as Important' : 'Mail Remove as Important',\r\n      showMessage: true,\r\n      folderMails: this.state.folderMails.map(mail =>\r\n        mail.id === data.id ?\r\n          data : mail\r\n      )\r\n    });\r\n  }\r\n\r\n  onSaveContact = async (data)=>{\r\n    const formData = new FormData()\r\n    formData.append(\r\n      'file',\r\n      data.imgUrl\r\n    )\r\n    console.log(formData, data.imgUrl)\r\n    const res = await axios.post('http://localhost:8000/banner/upload', formData)\r\n    const result = await axios.post('http://localhost:8000/banner', {title: data.title, text: data.text, url: data.url, imgUrl: res.data.img})\r\n    console.log(result.data)\r\n/*     const result = await axios.post('http://localhost:8000/banner', data)\r\n    this.setState({onAddContact: false, folderMails: [...this.folderMails, result]}) */\r\n  }\r\n\r\n  onMailSend(data) {\r\n    this.setState(\r\n      {\r\n        alertMessage: 'Mail Sent Successfully',\r\n        showMessage: true,\r\n        folderMails: this.state.allMail.concat(data),\r\n        allMail: this.state.allMail.concat(data)\r\n      }\r\n    );\r\n  }\r\n\r\n  onMailSelect(mail) {\r\n    this.setState({\r\n      loader: true,\r\n      currentMail: mail,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({loader: false});\r\n    }, 1500);\r\n  }\r\n\r\n  addLabel(mail, label) {\r\n    if (this.state.currentMail !== null && mail.id === this.state.currentMail.id) {\r\n      this.setState({\r\n        currentMail: {...mail, labels: mail.labels.concat(label)}\r\n      })\r\n    }\r\n    return mail.labels.concat(label)\r\n  }\r\n\r\n  updateSearch(evt) {\r\n    this.setState({\r\n      searchMail: evt.target.value,\r\n    });\r\n    this.searchMail(evt.target.value)\r\n  }\r\n\r\n  onToggleDrawer() {\r\n    this.setState({\r\n      drawerState: !this.state.drawerState\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {selectedMails, loader, currentMail, drawerState, folderMails, composeMail, user, alertMessage, showMessage, noContentFoundMessage, addContactState} = this.state;\r\n    return (\r\n\r\n      <div className=\"gx-main-content\">\r\n        <div className=\"gx-app-module\">\r\n\r\n          <div className=\"gx-d-block gx-d-lg-none\">\r\n            <Drawer\r\n              placement=\"left\"\r\n              closable={false}\r\n              visible={drawerState}\r\n              onClose={this.onToggleDrawer.bind(this)}>\r\n            </Drawer>\r\n\r\n          </div>\r\n          <div className=\"gx-module-sidenav gx-d-none gx-d-lg-flex\">\r\n            {this.MailSideBar(currentMail)}\r\n          </div> \r\n\r\n          <div className=\"gx-module-box\">\r\n            <div className=\"gx-module-box-header\">\r\n              <span className=\"gx-drawer-btn gx-d-flex gx-d-lg-none\">\r\n                  <i className=\"icon icon-menu gx-icon-btn\" aria-label=\"Menu\"\r\n                     onClick={this.onToggleDrawer.bind(this)}/>\r\n              </span>\r\n              <AppModuleHeader placeholder=\"Search mails\" user={this.state.user}\r\n                               onChange={this.updateSearch.bind(this)}\r\n                               value={this.state.searchMail}/>\r\n\r\n            </div>\r\n\r\n            <div className=\"gx-module-box-content\">\r\n\r\n              {loader ?\r\n                <div className=\"gx-loader-view\">\r\n                  <CircularProgress/>\r\n                </div>\r\n                : this.displayMail(currentMail, folderMails, noContentFoundMessage)}\r\n\r\n              <ComposeMail open={composeMail} user={user}\r\n                           onClose={this.handleRequestClose.bind(this)}\r\n                           onMailSend={this.onMailSend.bind(this)}/>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Dropdown overlay={this.menus()} placement=\"bottomRight\" trigger={['click']}>\r\n              <i className=\"gx-icon-btn icon icon-ellipse-v\"/>\r\n            </Dropdown>\r\n        <AddMail open={addContactState} onSaveContact={this.onSaveContact}\r\n                    onContactClose={this.onContactClose} onDeleteContact={this.onDeleteContact}/>\r\n        {showMessage && message.info(<span id=\"message-id\">{alertMessage}</span>, 3, this.handleRequestClose)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Mail;\r\n"]},"metadata":{},"sourceType":"module"}